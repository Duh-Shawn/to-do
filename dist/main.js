(()=>{"use strict";class t{constructor(t){this.controller=t}static removeTask(t){t.target.parentNode.remove()}static clearProjectContent=()=>{document.querySelector(".project-data").innerHTML=""};static displayProjectTasks=t=>{document.querySelector(".content h1").textContent=t.name,this.clearProjectContent();for(let e=0;e<t.taskList.length;e++){const s=document.createElement("div");s.classList="task",s.dataset.indexNumber=e,s.innerHTML=`<p class="task-title">${t.taskList[e].title}</p><p class="task-description">${t.taskList[e].description}</p><p class="task-due">${t.taskList[e].dueDate}</p><p class="task-priority">${t.taskList[e].priority}</p><button class="remove-task">X</button>`,document.querySelector(".project-data").appendChild(s)}console.log(document.querySelector(".project-data"))};openTaskForm=()=>{document.querySelector(".bg-modal").style.display="flex",console.log(this.controller.projectList)};closeTaskForm=()=>{document.querySelector(".bg-modal").style.display="none"};initEventListeners(){document.getElementById("new-task-button").addEventListener("click",this.openTaskForm),document.querySelector(".close-popup").addEventListener("click",this.closeTaskForm),document.getElementById("form-submission").addEventListener("click",this.controller.createTask)}}class e{constructor(t,e,s,o){this.title=t,this.description=e,this.dueDate=s,this.priority=o}}const s=new class{constructor(t){this.name=t,this.taskList=[]}addTask(t){this.taskList.push(t)}removeTask(t){this.taskList.splice(t,1)}}("Default"),o=[];o.push(s);let c=s;const a=new class{constructor(t,e){this.projectList=t,this.selectedProject=e}deleteTask=e=>{const s=e.target.parentNode.dataset.indexNumber;this.selectedProject.removeTask(s),t.displayProjectTasks(this.selectedProject),this.attachRemoveEvents()};attachRemoveEvents=()=>{document.querySelectorAll(".remove-task").forEach((t=>{t.addEventListener("click",this.deleteTask)}))};createTask=s=>{s.preventDefault();const o=document.getElementById("title").value,c=document.getElementById("description").value,a=document.getElementById("due").value,r=document.getElementById("priority").value,n=new e(o,c,a,r);this.selectedProject.addTask(n),t.displayProjectTasks(this.selectedProject),this.attachRemoveEvents()}}(o,c);new t(a).initEventListeners(),t.displayProjectTasks(c)})();